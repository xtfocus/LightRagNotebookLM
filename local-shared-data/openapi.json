{"openapi":"3.1.0","info":{"title":"Full Stack FastAPI Project","version":"0.1.0"},"paths":{"/api/v1/login/access-token":{"post":{"tags":["login"],"summary":"Login Access Token","description":"OAuth2 compatible token login, get an access token for future requests","operationId":"login-login_access_token","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login-login_access_token"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/login/test-token":{"post":{"tags":["login"],"summary":"Test Token","description":"Test access token","operationId":"login-test_token","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/password-recovery/{email}":{"post":{"tags":["login"],"summary":"Recover Password","description":"Password Recovery","operationId":"login-recover_password","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reset-password/":{"post":{"tags":["login"],"summary":"Reset Password","description":"Reset password","operationId":"login-reset_password","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewPassword"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/password-recovery-html-content/{email}":{"post":{"tags":["login"],"summary":"Recover Password Html Content","description":"HTML Content for Password Recovery","operationId":"login-recover_password_html_content","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/":{"get":{"tags":["users"],"summary":"Read Users","description":"Retrieve users.","operationId":"users-read_users","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsersPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["users"],"summary":"Create User","description":"Create new user.","operationId":"users-create_user","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/waitlist":{"get":{"tags":["users"],"summary":"Read Waitlist Users","description":"Retrieve users pending approval (waitlist).","operationId":"users-read_waitlist_users","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsersPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["users"],"summary":"Read User Me","description":"Get current user.","operationId":"users-read_user_me","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["users"],"summary":"Delete User Me","description":"Delete own user.","operationId":"users-delete_user_me","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"patch":{"tags":["users"],"summary":"Update User Me","description":"Update own user.","operationId":"users-update_user_me","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateMe"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/me/password":{"patch":{"tags":["users"],"summary":"Update Password Me","description":"Update own password.","operationId":"users-update_password_me","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePassword"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/signup":{"post":{"tags":["users"],"summary":"Register User","description":"Create new user without the need to be logged in.","operationId":"users-register_user","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegister"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"get":{"tags":["users"],"summary":"Read User By Id","description":"Get a specific user by id.","operationId":"users-read_user_by_id","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["users"],"summary":"Update User","description":"Update a user.","operationId":"users-update_user","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User","description":"Delete a user.","operationId":"users-delete_user","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Users-Delete User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}/approve":{"patch":{"tags":["users"],"summary":"Approve User","description":"Approve a user from the waitlist.","operationId":"users-approve_user","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}/reject":{"patch":{"tags":["users"],"summary":"Reject User","description":"Reject a user from the waitlist (delete the user).","operationId":"users-reject_user","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/utils/test-email/":{"post":{"tags":["utils"],"summary":"Test Email","description":"Test emails.","operationId":"utils-test_email","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"email_to","in":"query","required":true,"schema":{"type":"string","format":"email","title":"Email To"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/utils/health-check/":{"get":{"tags":["utils"],"summary":"Health Check","operationId":"utils-health_check","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"boolean","title":"Response Utils-Health Check"}}}}}}},"/api/v1/items/":{"get":{"tags":["items"],"summary":"Read Items","description":"Retrieve items.","operationId":"items-read_items","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["items"],"summary":"Create Item","description":"Create new item.","operationId":"items-create_item","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/items/{id}":{"get":{"tags":["items"],"summary":"Read Item","description":"Get item by ID.","operationId":"items-read_item","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["items"],"summary":"Update Item","description":"Update an item.","operationId":"items-update_item","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["items"],"summary":"Delete Item","description":"Delete an item.","operationId":"items-delete_item","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agent/chat":{"post":{"tags":["agent"],"summary":"Agent Chat Proxy","operationId":"agent-agent_chat_proxy","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/uploads/files":{"post":{"tags":["uploads"],"summary":"Upload Files","description":"Upload multiple files with transactional safety and idempotency.\n\nThis endpoint handles batch file uploads with comprehensive error handling:\n- Each file is processed individually with its own transaction\n- Failed uploads don't affect successful ones\n- Duplicate files are detected and reported\n- Detailed error reporting for each file\n\nArgs:\n    session: Database session\n    current_user: Authenticated user\n    files: List of files to upload\n    \nReturns:\n    Dict containing:\n    - documents: List of successfully uploaded documents\n    - failed_uploads: List of failed uploads with reasons\n    - message: Summary of operation results","operationId":"uploads-upload_files","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_uploads-upload_files"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Uploads-Upload Files"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/uploads/documents":{"get":{"tags":["uploads"],"summary":"List Documents","description":"List user's documents with pagination.\n\nArgs:\n    session: Database session\n    current_user: Authenticated user\n    skip: Number of records to skip for pagination\n    limit: Maximum number of records to return\n    \nReturns:\n    DocumentsPublic: Paginated list of user's documents","operationId":"uploads-list_documents","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of records to skip","default":0,"title":"Skip"},"description":"Number of records to skip"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Maximum number of records to return","default":100,"title":"Limit"},"description":"Maximum number of records to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["uploads"],"summary":"Delete Documents","description":"Delete multiple documents with transactional safety.\n\nThis endpoint handles batch deletions with individual error handling:\n- Each document is deleted in its own transaction\n- Failed deletions don't affect successful ones\n- Detailed reporting of successes and failures\n\nArgs:\n    session: Database session\n    current_user: Authenticated user\n    document_ids: List of document UUIDs to delete\n    \nReturns:\n    Dict containing:\n    - message: Summary of operation results\n    - deleted_count: Number of successfully deleted documents\n    - total_requested: Total number of documents requested for deletion\n    - failed_deletions: List of failed deletions with reasons","operationId":"uploads-delete_documents","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"string","format":"uuid"},"title":"Document Ids"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Uploads-Delete Documents"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/uploads/documents/{document_id}":{"get":{"tags":["uploads"],"summary":"Get Document","description":"Get a specific document by ID.\n\nArgs:\n    session: Database session\n    current_user: Authenticated user\n    document_id: UUID of the document to retrieve\n    \nReturns:\n    DocumentPublic: Document details","operationId":"uploads-get_document","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["uploads"],"summary":"Delete Document","description":"Delete a single document with transactional safety.\n\nArgs:\n    session: Database session\n    current_user: Authenticated user\n    document_id: UUID of the document to delete\n    \nReturns:\n    Dict containing success message and document_id","operationId":"uploads-delete_document","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Uploads-Delete Document"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/uploads/presign":{"get":{"tags":["uploads"],"summary":"Get Presigned Url","description":"Get a presigned URL for direct file access.\n\nArgs:\n    current_user: Authenticated user\n    key: Object key in MinIO\n    expires_minutes: URL expiration time (1-1440 minutes)\n    \nReturns:\n    Dict containing presigned URL and metadata","operationId":"uploads-get_presigned_url","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"key","in":"query","required":true,"schema":{"type":"string","title":"Key"}},{"name":"expires_minutes","in":"query","required":false,"schema":{"type":"integer","maximum":1440,"minimum":1,"description":"URL expiration time in minutes","default":60,"title":"Expires Minutes"},"description":"URL expiration time in minutes"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Uploads-Get Presigned Url"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/uploads/consistency-check":{"get":{"tags":["uploads"],"summary":"Check Data Consistency","description":"Check data consistency between MinIO and PostgreSQL.\nOnly available to superusers for security.","operationId":"uploads-check_data_consistency","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Uploads-Check Data Consistency"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/uploads/cleanup/orphaned-files":{"post":{"tags":["uploads"],"summary":"Cleanup Files","description":"Clean up orphaned MinIO files.\n\nThis endpoint removes MinIO files that don't have corresponding database records:\n- Scans MinIO storage for orphaned files\n- Provides dry-run mode for safe testing\n- Reports detailed cleanup results\n\nArgs:\n    current_user: Authenticated user (must be superuser)\n    dry_run: If True, only report what would be deleted\n    \nReturns:\n    Dict containing cleanup operation results\n    \nSecurity: Superuser-only access required","operationId":"uploads-cleanup_files","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dry_run","in":"query","required":false,"schema":{"type":"boolean","description":"If True, only report what would be deleted","default":true,"title":"Dry Run"},"description":"If True, only report what would be deleted"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Uploads-Cleanup Files"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/uploads/cleanup/orphaned-records":{"post":{"tags":["uploads"],"summary":"Cleanup Records","description":"Clean up orphaned database records.\n\nThis endpoint removes database records that don't have corresponding MinIO files:\n- Scans database for orphaned records\n- Provides dry-run mode for safe testing\n- Reports detailed cleanup results\n\nArgs:\n    current_user: Authenticated user (must be superuser)\n    dry_run: If True, only report what would be deleted\n    \nReturns:\n    Dict containing cleanup operation results\n    \nSecurity: Superuser-only access required","operationId":"uploads-cleanup_records","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dry_run","in":"query","required":false,"schema":{"type":"boolean","description":"If True, only report what would be deleted","default":true,"title":"Dry Run"},"description":"If True, only report what would be deleted"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Uploads-Cleanup Records"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/uploads/cleanup/full":{"post":{"tags":["uploads"],"summary":"Full Cleanup","description":"Run a full cleanup operation including consistency check and cleanup.\n\nThis endpoint performs a comprehensive cleanup operation:\n- Checks data consistency between MinIO and PostgreSQL\n- Cleans up orphaned files and records\n- Provides dry-run mode for safe testing\n- Reports detailed results of all operations\n\nArgs:\n    current_user: Authenticated user (must be superuser)\n    dry_run: If True, only report what would be cleaned\n    \nReturns:\n    Dict containing complete cleanup operation results\n    \nSecurity: Superuser-only access required","operationId":"uploads-full_cleanup","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dry_run","in":"query","required":false,"schema":{"type":"boolean","description":"If True, only report what would be cleaned","default":true,"title":"Dry Run"},"description":"If True, only report what would be cleaned"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Uploads-Full Cleanup"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/documents":{"get":{"tags":["search"],"summary":"Search Documents","description":"Search documents using vector similarity.","operationId":"search-search_documents","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","description":"Search query","title":"Query"},"description":"Search query"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"description":"Maximum number of results","default":10,"title":"Limit"},"description":"Maximum number of results"},{"name":"score_threshold","in":"query","required":false,"schema":{"type":"number","maximum":1.0,"minimum":0.0,"description":"Minimum similarity score","default":0.7,"title":"Score Threshold"},"description":"Minimum similarity score"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResults"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/health":{"get":{"tags":["search"],"summary":"Search Health","description":"Check search service health.","operationId":"search-search_health","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Search-Search Health"}}}}}}},"/api/v1/sources/":{"get":{"tags":["sources"],"summary":"List Sources","description":"List user's sources with optional filtering by type.\nIncludes notebook count for each source to show usage impact.","operationId":"sources-list_sources","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of records to skip","default":0,"title":"Skip"},"description":"Number of records to skip"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Maximum number of records to return","default":100,"title":"Limit"},"description":"Maximum number of records to return"},{"name":"source_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/SourceType"},{"type":"null"}],"description":"Filter by source type","title":"Source Type"},"description":"Filter by source type"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourcesPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["sources"],"summary":"Create Source","description":"Create a new source with validation and error handling.","operationId":"sources-create_source","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourceCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourcePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sources/{source_id}":{"get":{"tags":["sources"],"summary":"Get Source","description":"Get a specific source by ID with ownership verification.\nIncludes notebook count to show usage impact.","operationId":"sources-get_source","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"source_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Source Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourcePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["sources"],"summary":"Update Source","description":"Update a source with ownership verification and validation.","operationId":"sources-update_source","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"source_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Source Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourcePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["sources"],"summary":"Delete Source","description":"Delete a source with comprehensive cleanup including storage.\n\nThis endpoint now handles:\n- Database deletion with cascade handling\n- Qdrant cleanup for document and URL sources\n- MinIO cleanup for document sources\n- Proper error handling and rollback","operationId":"sources-delete_source","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"source_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Source Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Sources-Delete Source"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notebooks/":{"get":{"tags":["notebooks"],"summary":"List Notebooks","description":"List user's notebooks with pagination and error handling.","operationId":"notebooks-list_notebooks","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebooksPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["notebooks"],"summary":"Create Notebook","description":"Create a new notebook with validation and error handling.","operationId":"notebooks-create_notebook","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notebooks/{notebook_id}":{"get":{"tags":["notebooks"],"summary":"Get Notebook","description":"Get a specific notebook by ID with ownership verification.","operationId":"notebooks-get_notebook","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notebook_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notebook Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["notebooks"],"summary":"Update Notebook","description":"Update a notebook with ownership verification and validation.","operationId":"notebooks-update_notebook","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notebook_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notebook Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["notebooks"],"summary":"Delete Notebook","description":"Delete a notebook with comprehensive cleanup including orphaned source handling.\n\nThis endpoint now handles:\n- Database deletion with cascade handling\n- Identification of orphaned sources (not used by other notebooks)\n- Comprehensive deletion of orphaned sources (Qdrant + MinIO cleanup)\n- Proper error handling and rollback","operationId":"notebooks-delete_notebook","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notebook_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notebook Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Notebooks-Delete Notebook"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notebooks/{notebook_id}/messages":{"get":{"tags":["notebook-messages"],"summary":"List Notebook Messages","description":"List messages in a notebook with ownership verification.","operationId":"notebook-messages-list_notebook_messages","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notebook_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notebook Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookMessagesPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["notebook-messages"],"summary":"Add Message To Notebook","description":"Add a message to a notebook with validation and ownership verification.","operationId":"notebook-messages-add_message_to_notebook","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notebook_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notebook Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookMessageCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookMessagePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notebooks/{notebook_id}/sources":{"get":{"tags":["notebook-sources"],"summary":"List Notebook Sources","description":"List sources in a notebook with ownership verification.","operationId":"notebook-sources-list_notebook_sources","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notebook_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notebook Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookSourcesPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["notebook-sources"],"summary":"Add Source To Notebook","description":"Add a source to a notebook with idempotency and ownership verification.","operationId":"notebook-sources-add_source_to_notebook","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notebook_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notebook Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookSourceCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookSourcePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notebooks/{notebook_id}/sources/{source_id}":{"delete":{"tags":["notebook-sources"],"summary":"Remove Source From Notebook","description":"Remove a source from a notebook with ownership verification.","operationId":"notebook-sources-remove_source_from_notebook","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notebook_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notebook Id"}},{"name":"source_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Source Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Notebook-Sources-Remove Source From Notebook"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["notebook-sources"],"summary":"Update Notebook Source","description":"Update a notebook source relationship (e.g., change position).","operationId":"notebook-sources-update_notebook_source","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notebook_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notebook Id"}},{"name":"source_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Source Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookSourceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotebookSourcePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/private/users/":{"post":{"tags":["private"],"summary":"Create User","description":"Create a new user.","operationId":"private-create_user","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivateUserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_login-login_access_token":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login-login_access_token"},"Body_uploads-upload_files":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"}},"type":"object","required":["files"],"title":"Body_uploads-upload_files"},"DocumentPublic":{"properties":{"filename":{"type":"string","maxLength":255,"title":"Filename"},"mime_type":{"type":"string","maxLength":100,"title":"Mime Type"},"size":{"type":"integer","minimum":0.0,"title":"Size"},"bucket":{"type":"string","maxLength":100,"title":"Bucket"},"object_key":{"type":"string","maxLength":500,"title":"Object Key"},"document_metadata":{"type":"string","maxLength":10000,"title":"Document Metadata","default":"{}"},"status":{"$ref":"#/components/schemas/ProcessingStatus","default":"pending"},"version":{"type":"integer","minimum":1.0,"title":"Version","default":1},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"id":{"type":"string","format":"uuid","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["filename","mime_type","size","bucket","object_key","owner_id","id","created_at","updated_at"],"title":"DocumentPublic"},"DocumentsPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/DocumentPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"DocumentsPublic"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ItemCreate":{"properties":{"title":{"type":"string","maxLength":255,"minLength":1,"title":"Title"},"description":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Description"}},"type":"object","required":["title"],"title":"ItemCreate"},"ItemPublic":{"properties":{"title":{"type":"string","maxLength":255,"minLength":1,"title":"Title"},"description":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Description"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"}},"type":"object","required":["title","id","owner_id"],"title":"ItemPublic"},"ItemUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Description"}},"type":"object","title":"ItemUpdate"},"ItemsPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/ItemPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"ItemsPublic"},"Message":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"Message"},"NewPassword":{"properties":{"token":{"type":"string","title":"Token"},"new_password":{"type":"string","maxLength":40,"minLength":8,"title":"New Password"}},"type":"object","required":["token","new_password"],"title":"NewPassword"},"NotebookCreate":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"}},"type":"object","required":["title"],"title":"NotebookCreate"},"NotebookMessageCreate":{"properties":{"notebook_id":{"type":"string","format":"uuid","title":"Notebook Id"},"role":{"type":"string","maxLength":20,"title":"Role"},"content":{"type":"string","maxLength":10000,"title":"Content"},"used_sources":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Used Sources"}},"type":"object","required":["notebook_id","role","content"],"title":"NotebookMessageCreate"},"NotebookMessagePublic":{"properties":{"notebook_id":{"type":"string","format":"uuid","title":"Notebook Id"},"role":{"type":"string","maxLength":20,"title":"Role"},"content":{"type":"string","maxLength":10000,"title":"Content"},"used_sources":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Used Sources"},"id":{"type":"string","format":"uuid","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["notebook_id","role","content","id","created_at"],"title":"NotebookMessagePublic"},"NotebookMessagesPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/NotebookMessagePublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"NotebookMessagesPublic"},"NotebookPublic":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"id":{"type":"string","format":"uuid","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"source_count":{"type":"integer","title":"Source Count","description":"Number of sources linked to this notebook","default":0}},"type":"object","required":["title","owner_id","id","created_at","updated_at"],"title":"NotebookPublic"},"NotebookSourceCreate":{"properties":{"source_id":{"type":"string","format":"uuid","title":"Source Id"},"position":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Position"}},"type":"object","required":["source_id"],"title":"NotebookSourceCreate"},"NotebookSourcePublic":{"properties":{"notebook_id":{"type":"string","format":"uuid","title":"Notebook Id"},"source_id":{"type":"string","format":"uuid","title":"Source Id"},"position":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Position"},"id":{"type":"string","format":"uuid","title":"Id"},"added_at":{"type":"string","format":"date-time","title":"Added At"},"source":{"$ref":"#/components/schemas/SourcePublic"}},"type":"object","required":["notebook_id","source_id","id","added_at","source"],"title":"NotebookSourcePublic"},"NotebookSourceUpdate":{"properties":{"position":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Position"}},"type":"object","title":"NotebookSourceUpdate"},"NotebookSourcesPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/NotebookSourcePublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"NotebookSourcesPublic"},"NotebookUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"}},"type":"object","title":"NotebookUpdate"},"NotebooksPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/NotebookPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"NotebooksPublic"},"PrivateUserCreate":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"},"full_name":{"type":"string","title":"Full Name"},"is_verified":{"type":"boolean","title":"Is Verified","default":false}},"type":"object","required":["email","password","full_name"],"title":"PrivateUserCreate"},"ProcessingStatus":{"type":"string","enum":["pending","processing","indexed","failed"],"title":"ProcessingStatus"},"SearchResult":{"properties":{"document_id":{"type":"string","format":"uuid","title":"Document Id"},"filename":{"type":"string","title":"Filename"},"score":{"type":"number","title":"Score"},"chunk_text":{"type":"string","title":"Chunk Text"},"chunk_index":{"type":"integer","title":"Chunk Index"},"doc_metadata":{"type":"object","title":"Doc Metadata"}},"type":"object","required":["document_id","filename","score","chunk_text","chunk_index","doc_metadata"],"title":"SearchResult"},"SearchResults":{"properties":{"results":{"items":{"$ref":"#/components/schemas/SearchResult"},"type":"array","title":"Results"},"total":{"type":"integer","title":"Total"},"query":{"type":"string","title":"Query"}},"type":"object","required":["results","total","query"],"title":"SearchResults"},"SourceCreate":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"source_type":{"$ref":"#/components/schemas/SourceType"},"source_metadata":{"type":"object","title":"Source Metadata"}},"type":"object","required":["title","source_type"],"title":"SourceCreate"},"SourcePublic":{"properties":{"title":{"type":"string","maxLength":255,"title":"Title"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"source_type":{"$ref":"#/components/schemas/SourceType"},"source_metadata":{"type":"object","title":"Source Metadata"},"status":{"$ref":"#/components/schemas/ProcessingStatus","default":"pending"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"id":{"type":"string","format":"uuid","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"notebook_count":{"type":"integer","title":"Notebook Count","description":"Number of notebooks this source is linked to","default":0}},"type":"object","required":["title","source_type","owner_id","id","created_at","updated_at"],"title":"SourcePublic"},"SourceType":{"type":"string","enum":["document","url","video","image","text"],"title":"SourceType"},"SourceUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"source_metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Source Metadata"}},"type":"object","title":"SourceUpdate"},"SourcesPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/SourcePublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"SourcesPublic"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"Token"},"UpdatePassword":{"properties":{"current_password":{"type":"string","maxLength":40,"minLength":8,"title":"Current Password"},"new_password":{"type":"string","maxLength":40,"minLength":8,"title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"UpdatePassword"},"UserCreate":{"properties":{"email":{"type":"string","maxLength":255,"format":"email","title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"is_approved":{"type":"boolean","title":"Is Approved","default":false},"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"},"password":{"type":"string","maxLength":40,"minLength":8,"title":"Password"}},"type":"object","required":["email","password"],"title":"UserCreate"},"UserPublic":{"properties":{"email":{"type":"string","maxLength":255,"format":"email","title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"is_approved":{"type":"boolean","title":"Is Approved","default":false},"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"},"id":{"type":"string","format":"uuid","title":"Id"}},"type":"object","required":["email","id"],"title":"UserPublic"},"UserRegister":{"properties":{"email":{"type":"string","maxLength":255,"format":"email","title":"Email"},"password":{"type":"string","maxLength":40,"minLength":8,"title":"Password"},"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"}},"type":"object","required":["email","password"],"title":"UserRegister"},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string","maxLength":255,"format":"email"},{"type":"null"}],"title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"is_approved":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Approved"},"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"},"password":{"anyOf":[{"type":"string","maxLength":40,"minLength":8},{"type":"null"}],"title":"Password"}},"type":"object","title":"UserUpdate"},"UserUpdateMe":{"properties":{"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"},"email":{"anyOf":[{"type":"string","maxLength":255,"format":"email"},{"type":"null"}],"title":"Email"}},"type":"object","title":"UserUpdateMe"},"UsersPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/UserPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"UsersPublic"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/login/access-token"}}}}}}